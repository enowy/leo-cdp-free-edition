<style>
.active_connector_box {
	border-color: #0E0E0E!important;
}
.active_connector_box > .panel-heading {
	background-color: #fcf8e3!important;
}
#filter_connectors_keywords {
	width: 100%;
}

</style>

<!-- Data Connector Services -->

<div class="row">
	<div class="col-lg-10">
		<h5 class="page-header" id="page_breadcrumb"></h5>
	</div>
	<div class="col-lg-2 text-right" style="padding: 10px;">
		<button type="button" class="btn btn-goto-router data-control-insert" onclick="newDataConnector()" title="Install New Data Connector" >
			<i class="fa fa-plus-circle" aria-hidden="true"></i> New Data Connector
		</button>
	</div>
</div>

<div class="top_page_header" >
	<h4> 
		<i class="fa fa-exchange " aria-hidden="true"></i> Data Connector Management 
		<i id="connectors_tooltip" class="fa fa-question-circle" aria-hidden="true" title="Please set configuration to activate connectors" ></i>
	</h4>
</div>

<div class="col-lg-12 row">
	<div class="panel panel-info" >
	   	<div class="panel-heading">
	   		<b> <i class="fa fa-search" aria-hidden="true"></i> Connector Filter </b>
	   	</div>
	    <div class="panel-body">
	      	<div class="col-lg-12 row">
	      		<div class="col-lg-8" >
					<input id="filter_connectors_keywords" type="text" placeholder="Enter keywords to search connectors" autocomplete="off">				
					<label for="select_filter_connectors" style="margin-top:10px;" >Connector Status</label>
					<select class="form-control" id="select_filter_connectors" >
				    	<option value="all"> All connectors</option>
				    	<option value="active"> Active connectors </option>
				    	<option value="active_for_personalization" title="filter only active connectors for data personalization" > Active connectors for data personalization</option>
				    	<option value="active_for_enrichment" title="filter only active connectors for data enrichment"> Active connectors for data enrichment</option>
				    	<option value="active_for_synchronization" title="filter only active connectors for data synchronization"> Active connectors for data synchronization</option>
				    </select>
				</div>
				<div class="col-lg-4">
					<div class="col-md-6 text-center" >
					 	<button type="button" style="width: 100%;" class="btn btn-do-now" onclick="resetConnectorFilter()" >
					 		<i class="fa fa-fw fa-undo"></i> Reset 
					 	</button>
					</div>
					<div class="col-md-6 text-center" >
					 	<button type="button" style="width: 100%;" class="btn btn-goto-router" onclick="doConnectorFilter()" >
					 		<i class="fa fa-fw fa-filter"></i> OK 
					 	</button>
					</div>
				</div>
	      	</div>
	    </div>
	</div>
	<div class="row gridholder">
		<div id="data_connectors_loader" class="loader"></div>
		<div class="col-lg-12" id="data_connectors_holder" style="display: none;">
			<!-- list -->
		</div>
		<div class="col-lg-12" id="data_connectors_pagination" > </div>
	</div>	
</div>


<script>
	var initDataConnectorList = function() {
		doConnectorFilter();		
	}
</script>

<script id='tpl_data_connector_view' type="text/html" >
<div class="connector_box col-lg-4">
  <div class="panel panel-default" id="connector_box_<%- id %>">
	<div class="panel-heading"   > 
		<b id="header_<%- id %>" > 
			<i class="fa fa-exchange " aria-hidden="true"></i> <span style="font-size:13px"> <%- name %> </span> 
		</b>
		<i class="fa fa-question-circle config_description" aria-hidden="true" style="float:right" title="<%- description %>" ></i>
	</div>
	<div class="panel-body">
		<div class="row" >
			<div class="col-md-12">
				<div class="form-group">
					<div id="<%- id %>_api_key_div" >
						<label id="<%- id %>_api_key_label" for="<%- id %>_api_key"> API Key </label>
						<input id="<%- id %>_api_key"  autocomplete="off" type="text" value="<%- service_api_key %>" class="form-control" placeholder="API key" disabled >
						<br>
					</div>
					<div id="<%- id %>_api_url_div" >
  						<label for="<%- id %>_api_url">  API URL </label>
  						<input id="<%- id %>_api_url" autocomplete="off" type="text" value="<%- configs.service_api_url %>" class="form-control"  placeholder="API URL" disabled >
					</div>
				</div>
			</div>
		</div>
	 	<div id="<%- id %>_buttons_div" class="row" style="margin-top:12px">
			<div class="col-md-4 text-center">
		    	<button type="button" class="btn btn-goto-router btn-sm" title="Set configs for this connector" onclick="loadDataConnector('<%- id %>')" > 
		  			<i class="fa fa-cog" aria-hidden="true"></i> Configs 
		  		</button>
		    </div>
			<div class="col-md-4 text-center">
		    	<button type="button" class="btn btn-do-now btn-sm" title="Delete all configs of this connector" onclick="resetDataConnector('<%- id %>')" > 
		  			<i class="fa fa-undo" aria-hidden="true"></i> Reset
		  		</button>
		    </div>
			<div class="col-md-4 text-center">
		    	<button type="button" class="btn btn-danger btn-sm" title="Delete this connector" onclick="deleteDataConnector('<%- id %>')" > 
		  			<i class="fa fa-trash" aria-hidden="true"></i> Delete
		  		</button>
		    </div>
	 	</div>
	</div>
  </div>
</div>
</script>


<script id='tpl_config_row_item' type="text/html" >
<div class="row form-group">
	<label id="config_label_<%- inputName %>" class="control-label col-md-3 highlight_text" for="<%- inputName %>" ><%- inputName %></label>
	<div class="col-md-9 float-left" style="background-color:#DCDCDC!important;padding:2px">
    	<input type="<%- inputType %>" name="<%- inputName %>" placeholder="Enter the value of <%- inputName %>" class="form-control" style="border: none!important;margin:0!important">
   	</div>
</div>
</script>


<!-- dialog html -->
<div class="modal fade" id="dialogSetConnectorInfo" role="dialog">
	<div class="modal-dialog modal-lg" >
		<!-- Modal content-->
		<div class="modal-content">   
			<div class="modal-header">
				<h4 class="modal-title text-center" > <i class="fa fa-info-circle" aria-hidden="true"></i> Data Connector Information </h4>
			</div>         
			<div class="modal-body">
			
				<div class="row form-group">
					<label class="control-label col-md-3" for="connectorName" > Connector Name </label>
					<div class="col-md-9 float-left" >
				    	<input type="text" id="connectorName"  placeholder="Enter Connector Name" class="form-control" style="width: 98%" >
				   	</div>
				</div>
				
				<div class="row form-group">
					<label class="control-label col-md-3" for="connectorDescription" > Description </label>
					<div class="col-md-9 float-left" >
				    	<textarea id="connectorDescription" class="form-control" rows="2" style="width: 98%" ></textarea>
				   	</div>
				</div>
				
				<div class="row form-group">
				   	<label class="control-label col-md-3" for="connectorBuiltIn" >  Built-in connector </label>
					<div class="col-md-9 float-left" >
				    	<input id="connectorBuiltIn" type="checkbox" class="form-control" style="width: 32px; margin-bottom: 8px;" disabled="disabled"> 
				   	</div>
				</div>
				<hr>
				<div class="row form-group">
					<label class="control-label col-md-3" > Purposes of data activation</label>
					<div class="col-md-9 float-left" >
						<label class="checkbox-inline control-label" >
					      	<input id="forPersonalization" type="checkbox" value="true"> <b>  Data Personalization (E.g: Use your own recommendation engine) </b>
					    </label>
					    <br>
						<label class="checkbox-inline control-label">
					      	<input id="forDataEnrichment" type="checkbox" value="true"> <b>  Data Enrichment (E.g: CLV scoring, predict customer interests) </b>
					    </label>
					    <br>
					    <label class="checkbox-inline control-label">
					      	<input id="forSynchronization" type="checkbox" value="true" > <b>  Data Synchronization (E.g: Synch contact to email marketing platforms) </b>
					    </label>
				    </div>
				</div>
				<hr>
				<strong>Configurations</strong>
				<div id="connectorConfigList" style="max-height: 350px; overflow-y: scroll; overflow-x: hidden; margin-top: 5px;" > </div>
			</div>
			<div class="modal-footer" >
				<button type="button" class="btn btn-info" data-dismiss="modal"><i class="fa fa-times" aria-hidden="true"></i> Close</button>
				<button type="button" class="btn btn-success" onclick="saveDataConnectorInfo(this)" id="dataConnectorSaveButton"  >
					<i class="fa fa-check-square-o" aria-hidden="true"></i> Save 
				</button>		        
		    </div>  
		</div>
	</div>
</div>