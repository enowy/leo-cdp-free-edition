'use strict';const loadSystemEventsTable=function(e,k,l,m,n,f,c){var g=getUserSession();if(g){e=_.template($("#system-event-table-tpl").html())({eventObjectName:e});$("#"+k).empty().html(e);var h=[{data:"createdAt"},{data:"action"},{data:"accessIp"},{data:"userAgent"},{data:"data"}];c="object"===typeof c?c:[20,30,40];return $("#system_event_table").DataTable({lengthMenu:[c,c],lengthChange:1<c.length?!0:!1,processing:!0,serverSide:!0,searching:!1,search:{return:!1},ordering:!0,serverMethod:"POST",
ajax:{url:baseLeoAdminUrl+"/cdp/system-control/action-logs",contentType:"application/json",beforeSend:function(a){$("#system_event_loader").show();$("#system_event_list").hide();a.setRequestHeader("leouss",g)},data:function(a){a.objectName=l;a.objectId=m;a.action="";a.accessIp="";a.requestUserLogin=n;var b=a.order[0];a.sortField=h[b.column].data;a.sortAsc="asc"===b.dir;a.searchValue=a.search.value;delete a.order;delete a.search;return JSON.stringify(a)},dataSrc:function(a){var b=a.canInsertData,d=
a.canEditData,p=a.canDeleteData;$("#system_event_table").data("canInsertData",b);$("#system_event_table").data("canEditData",d);$("#system_event_table").data("canDeleteData",p);$("#system_event_loader").hide();$("#system_event_list").show();"function"===typeof f&&f();return a.data}},columnDefs:[{render:function(a,b,d){return'\x3cdiv class\x3d"text-center" style\x3d"color:#3300ff; width:78px; margin: auto;" \x3e\x3cmark\x3e'+moment.utc(a).local().format("YYYY-MM-DD HH:mm:ss")+"\x3c/mark\x3e\x3c/div\x3e"},
targets:0},{render:function(a,b,d){return'\x3cdiv style\x3d"font-size:0.9em; width:160px; text-align:center; margin: auto;word-wrap: break-word;" \x3e\x3cmark\x3e'+a+"\x3c/mark\x3e\x3c/div\x3e"},targets:1,orderable:!1},{render:function(a,b,d){return'\x3cdiv style\x3d"font-size:0.9em; text-align:center; margin: auto; word-wrap: break-word;"\x3e\x3cmark\x3e'+a+"\x3c/mark\x3e\x3c/div\x3e"},targets:2,orderable:!1},{render:function(a,b,d){return'\x3cdiv style\x3d"font-size:0.8em; text-align:center; width:260px; margin: auto; word-wrap: break-word;" \x3e'+
a+"\x3c/div\x3e"},targets:3,orderable:!1},{render:function(a,b,d){return'\x3cdiv style\x3d"font-size:0.78em; word-wrap: break-word; width:400px; margin: auto;" \x3e'+textTruncate(a,300)+"\x3c/div\x3e"},targets:4,orderable:!1}],columns:h,order:[[0,"desc"]]})}},loadSystemEventsFromLoginUser=function(e){return loadSystemEventsTable("User Login","panel_login_account_view_logs","SystemUser","",e)};