'use strict';const prefixCallJs="#calljs-",pageDomSelector="#page_main_content";
$(document).ready(function(){1200>window.innerWidth&&iziToast.warning({title:"Warning",message:"\x3cb\x3e Your screen size is too small ! \x3cbr\x3e The screen's width for Leo CDP Admin needs to be more than 1200 px \x3c/b\x3e "});if(systemDbReady)if(LeoAdminApiUtil.isLoginSessionOK()){var a=location.hash.indexOf(prefixCallJs);if(0<=a)LeoCdpAdmin.loadView("/view/main-view.html?admin\x3d1","#wrapper",function(){mainViewReady();setTimeout(function(){try{var d=decodeURIComponent(location.hash.substring(a+
prefixCallJs.length).trim());""!=d&&eval(d);$(pageDomSelector).show()}catch(c){alert(c)}},900)},!0);else{var b=0===location.hash.length?"/view/main-view.html?admin\x3d1":location.hash.substring(1);LeoCdpAdmin.loadView(b,"#wrapper",function(){mainViewReady();setTimeout(function(){leoCdpRouter("defaultRouter")},1212);$(pageDomSelector).show()},!0)}}else LeoCdpAdmin.loadView("/view/login.html?admin\x3d1","#wrapper");else LeoCdpAdmin.loadView("/view/setup.html?admin\x3d1","#wrapper")});
$(window).on("hashchange",function(){var a=location.hash.indexOf(prefixCallJs);console.log("\x3d\x3d\x3e hashchange: "+location.hash+" idx:"+a);if(0<=a){a=decodeURIComponent(location.hash.substring(a+prefixCallJs.length));try{eval(a)}catch(b){console.error(b)}}else LeoCdpAdmin.loadView(location.hash,"#wrapper")});
function loadMediaInfoView(a,b,d){var c=a.trim();$("#mediaInfoDowdloadUrl").hide();if(3===b)if(0!=a.indexOf("http")&&(a=window.baseLeoAdminUrl+a),$("#mediaInfoDowdloadUrl").show().find("a").attr("href",a),0<a.indexOf(".pdf"))c='\x3ciframe width\x3d"100%" height\x3d"800" frameborder\x3d"0" src\x3d"public/js/doc-viewerjs/index.html#'+a+'"\x3e\x3c/iframe\x3e';else if(0<a.indexOf(".docx")||0<a.indexOf(".doc")||0<a.indexOf(".docm")||0<a.indexOf(".pptx")||a.indexOf(".ppt")||a.indexOf(".xls")||0<a.indexOf(".xlsx"))c=
encodeURIComponent(a),c='\x3ciframe width\x3d"100%" height\x3d"650" frameborder\x3d"0" src\x3d"https://view.officeapps.live.com/op/embed.aspx?src\x3d'+c+'"\x3e\x3c/iframe\x3e';else{if(0<a.indexOf(".png")||0<a.indexOf(".jpg"))c='\x3cimg src\x3d"'+a+'" style\x3d"max-width:100%;max-height:600px;" /\x3e'}else if(4===b)if(0<=a.indexOf("https://drive.google.com/open"))c='\x3cdiv class\x3d"embed-responsive embed-responsive-4by3"\x3e\x3ciframe class\x3d"embed-responsive-item" frameborder\x3d"0" src\x3d"https://drive.google.com/file/d/'+
getQueryMapFromUrl(postModel.mediaInfo).id+'/preview"\x3e\x3c/iframe\x3e\x3c/div\x3e';else if(0<=a.indexOf("https://drive.google.com/file/d/"))c=a.replace("/view","/preview"),c='\x3cdiv class\x3d"embed-responsive embed-responsive-4by3"\x3e\x3ciframe class\x3d"embed-responsive-item" frameborder\x3d"0" src\x3d"'+c+'"\x3e\x3c/iframe\x3e\x3c/div\x3e';else if(0<=a.indexOf(".mp4")||0<=a.indexOf("https://youtu.be")||0<=a.indexOf("https://www.youtube.com")){var e="videoPlaceholder"+(new Date).getTime();c=
'\x3cdiv id\x3d"'+e+'" class\x3d"videoholder" style\x3d"width: 100%;"\x3e\x3c/div\x3e';setTimeout(function(){0!=a.indexOf("http")&&(a=window.baseLeoAdminUrl+a);MediaPlayerOne.create(!0,e,a,"",[],0,0,function(f){f.volume(0)})},360);$("#mediaInfoDowdloadUrl").show().find("a").attr("href",a)}""===c&&(c='\x3cdiv class\x3d"alert alert-info"\x3e\x3c/div\x3e');1!==b&&9!==b||!d?$("#mediaInfoPreview").html(c):$("#mediaInfoPreview").hide()}
function getHeadLinesImagsObject(){var a={};$("#headline_images .thumbnail").each(function(){var b=$(this).find("img").attr("src"),d="",c=$(this).find("p.editable");c.hasClass("editable-empty")||(d=c.text().trim());a[b]=d});return a}function searchContent(a){$("#search_campaign_box").val(a);window.currentSearchKeywords=a;LeoCdpAdmin.loadView("/view/search-view.html?admin\x3d1",pageDomSelector,function(){loadSearchingByKeywords(a)})}window.currentSearchKeywords=window.currentSearchKeywords||"";
function searchingByKeywords(){var a=$("#search_campaign_box").val();window.currentSearchKeywords!=a&&(window.currentSearchKeywords=a,location.href='#calljs-searchContent("'+encodeURIComponent(a)+'")')}
function initMainSeach(){var a=lscache.get("usersession"),b={url:window.baseLeoAdminUrl+"/cdp/profiles/search-suggestion",ajaxSettings:{beforeSend:function(d){d.setRequestHeader("leouss",a)}},getValue:"name",list:{match:{enabled:!0},maxNumberOfElements:10,showAnimation:{type:"slide",time:200},hideAnimation:{type:"slide",time:200},sort:{enabled:!0},onSelectItemEvent:function(){var d=$("#search_campaign_box"),c=d.getSelectedItemData().name;c&&d.val(c).trigger("change")},onChooseEvent:function(){searchingByKeywords()}},
theme:"round"};$("#search_campaign_box").easyAutocomplete(b).on("keyup",function(d){13==d.keyCode&&(searchingByKeywords(),$(".easy-autocomplete-container \x3e ul").hide())})}function toggleDiv(a,b){b=$(b);b.is(":visible")?(b.hide(),b=$(a).html().replace("Hide","Show")):(b.show(),b=$(a).html().replace("Show","Hide"));$(a).html(b)}
var setupTabPanels=function(){$('ul[class\x3d"nav nav-tabs"]').each(function(){var a=$(this),b=$(this).data("tab-content");a.find("a").click(function(){a.find("li").removeClass("active");$("#"+b).find('div[class*\x3d"tab-pane"]').removeClass("active");$(this).parent().addClass("active");var d=$(this).data("target-tab");$("#"+d).addClass("active")})})};
const loadModalboxHtml=function(a){$.ajax({url:a,type:"GET",success:function(b){$("#common_modalbox_html").append(b)},error:function(b){console.error("loadModalboxHtml.error: ",b)}})},openLocationUrl=function(a){a=$(a).data("url");eModal.iframe(a,"Location Map")},makeNodeEditable=function(a){a.attr("title","Editor").editable({type:"textarea",rows:3,inputclass:"editable_text_editor"})},SocialMediaIconMap={twitter:'\x3cb\x3e \x3ci class\x3d"fa fa-twitter-square" aria-hidden\x3d"true"\x3e\x3c/i\x3e Twitter: \x3c/b\x3e ',
linkedin:'\x3cb\x3e \x3ci class\x3d"fa fa-linkedin-square" aria-hidden\x3d"true"\x3e\x3c/i\x3e LinkedIn: \x3c/b\x3e ',facebook:'\x3cb\x3e \x3ci class\x3d"fa fa-facebook-square" aria-hidden\x3d"true"\x3e\x3c/i\x3e Facebook: \x3c/b\x3e ',instagram:'\x3cb\x3e \x3ci class\x3d"fa fa-instagram" aria-hidden\x3d"true"\x3e\x3c/i\x3e Instagram: \x3c/b\x3e ',skype:'\x3cb\x3e \x3ci class\x3d"fa fa-skype" aria-hidden\x3d"true"\x3e\x3c/i\x3e Skype: \x3c/b\x3e ',github:'\x3cb\x3e \x3ci class\x3d"fa fa-github" aria-hidden\x3d"true"\x3e\x3c/i\x3e Github: \x3c/b\x3e ',
whatsapp:'\x3cb\x3e \x3ci class\x3d"fa fa-whatsapp" aria-hidden\x3d"true"\x3e\x3c/i\x3e WhatsApp: \x3c/b\x3e ',apple:'\x3cb\x3e \x3ci class\x3d"fa fa-apple" aria-hidden\x3d"true"\x3e\x3c/i\x3e Apple: \x3c/b\x3e ',medium:'\x3cb\x3e \x3ci class\x3d"fa fa-medium" aria-hidden\x3d"true"\x3e\x3c/i\x3e Medium: \x3c/b\x3e ',youtube:'\x3cb\x3e \x3ci class\x3d"fa fa-youtube" aria-hidden\x3d"true"\x3e\x3c/i\x3e Youtube: \x3c/b\x3e ',zalo:'\x3cb\x3e \x3ci class\x3d"fa fa-phone-square" aria-hidden\x3d"true"\x3e\x3c/i\x3e Zalo: \x3c/b\x3e ',
amazon:'\x3cb\x3e \x3ci class\x3d"fa fa-amazon" aria-hidden\x3d"true"\x3e\x3c/i\x3e Amazon: \x3c/b\x3e ',quora:'\x3cb\x3e \x3ci class\x3d"fa fa-quora" aria-hidden\x3d"true"\x3e\x3c/i\x3e Quora: \x3c/b\x3e ',bitbucket:'\x3cb\x3e \x3ci class\x3d"fa fa-bitbucket" aria-hidden\x3d"true"\x3e\x3c/i\x3e Bitbucket: \x3c/b\x3e ',tiktok:'\x3cb\x3e \x3ci class\x3d"fa fa-play-circle" aria-hidden\x3d"true"\x3e\x3c/i\x3e Tiktok: \x3c/b\x3e '},PersonalContactIconsMap={"Citizen ID 1":'\x3cb\x3e \x3ci class\x3d"fa fa-id-card-o" aria-hidden\x3d"true"\x3e\x3c/i\x3e Citizen ID 1:  \x3c/b\x3e  ',
"Passport ID 1":'\x3cb\x3e \x3ci class\x3d"fa fa-id-card-o" aria-hidden\x3d"true"\x3e\x3c/i\x3e Passport ID 1:  \x3c/b\x3e  ',"Citizen ID 2":'\x3cb\x3e \x3ci class\x3d"fa fa-id-card-o" aria-hidden\x3d"true"\x3e\x3c/i\x3e Citizen ID 2:  \x3c/b\x3e  ',"Passport ID 2":'\x3cb\x3e \x3ci class\x3d"fa fa-id-card-o" aria-hidden\x3d"true"\x3e\x3c/i\x3e Passport ID 2:  \x3c/b\x3e  ',"Citizen ID 3":'\x3cb\x3e \x3ci class\x3d"fa fa-id-card-o" aria-hidden\x3d"true"\x3e\x3c/i\x3e Citizen ID 3:  \x3c/b\x3e  ',"Passport ID 3":'\x3cb\x3e \x3ci class\x3d"fa fa-id-card-o" aria-hidden\x3d"true"\x3e\x3c/i\x3e Passport ID 3:  \x3c/b\x3e  ',
"Citizen ID 4":'\x3cb\x3e \x3ci class\x3d"fa fa-id-card-o" aria-hidden\x3d"true"\x3e\x3c/i\x3e Citizen ID 4:  \x3c/b\x3e  ',"Passport ID 4":'\x3cb\x3e \x3ci class\x3d"fa fa-id-card-o" aria-hidden\x3d"true"\x3e\x3c/i\x3e Passport ID 4:  \x3c/b\x3e  ',"Citizen ID 5":'\x3cb\x3e \x3ci class\x3d"fa fa-id-card-o" aria-hidden\x3d"true"\x3e\x3c/i\x3e Citizen ID 5:  \x3c/b\x3e  ',"Passport ID 5":'\x3cb\x3e \x3ci class\x3d"fa fa-id-card-o" aria-hidden\x3d"true"\x3e\x3c/i\x3e Passport ID 5:  \x3c/b\x3e  '},
ContactIconsMap={"Business Email 1":'\x3cb\x3e \x3ci class\x3d"fa fa-envelope-o" aria-hidden\x3d"true"\x3e\x3c/i\x3e Business Email 1:  \x3c/b\x3e  ',"Business Mobile 1":'\x3cb\x3e \x3ci class\x3d"fa fa-phone-square" aria-hidden\x3d"true"\x3e\x3c/i\x3e Business Mobile 1:  \x3c/b\x3e ',"Business Email 2":'\x3cb\x3e \x3ci class\x3d"fa fa-envelope-o" aria-hidden\x3d"true"\x3e\x3c/i\x3e Business Email 2:  \x3c/b\x3e ',"Business Mobile 2":'\x3cb\x3e \x3ci class\x3d"fa fa-phone-square" aria-hidden\x3d"true"\x3e\x3c/i\x3e Business Mobile 2:  \x3c/b\x3e ',
"Business Email 3":'\x3cb\x3e \x3ci class\x3d"fa fa-envelope-o" aria-hidden\x3d"true"\x3e\x3c/i\x3e Business Email 3:  \x3c/b\x3e ',"Business Mobile 3":'\x3cb\x3e \x3ci class\x3d"fa fa-phone-square" aria-hidden\x3d"true"\x3e\x3c/i\x3e Business Mobile 3:  \x3c/b\x3e ',"Business Email 4":'\x3cb\x3e \x3ci class\x3d"fa fa-envelope-o" aria-hidden\x3d"true"\x3e\x3c/i\x3e Business Email 4:  \x3c/b\x3e  ',"Business Mobile 4":'\x3cb\x3e \x3ci class\x3d"fa fa-phone-square" aria-hidden\x3d"true"\x3e\x3c/i\x3e Business Mobile 4:  \x3c/b\x3e ',
"Business Email 5":'\x3cb\x3e \x3ci class\x3d"fa fa-envelope-o" aria-hidden\x3d"true"\x3e\x3c/i\x3e Business Email 5:  \x3c/b\x3e  ',"Business Mobile 5":'\x3cb\x3e \x3ci class\x3d"fa fa-phone-square" aria-hidden\x3d"true"\x3e\x3c/i\x3e Business Mobile 5:  \x3c/b\x3e '},defaultDateFormat="YYYY-MM-DD",defaultDateTimeFormat="YYYY-MM-DD HH:mm:ss",initDateFilterComponent=function(a,b,d,c){a=!0===a?defaultDateTimeFormat:defaultDateFormat;var e="number"===typeof c?c:90;c=(new moment).add(1,"days").format(a);
e=(new moment).subtract(e,"days").format(a);null!=b?$("#beginFilterDate").datetimepicker({useCurrent:!1,format:a,defaultDate:(new moment(b)).format(a)}):$("#beginFilterDate").datetimepicker({format:a,defaultDate:e});null!=d?$("#endFilterDate").datetimepicker({useCurrent:!1,format:a,defaultDate:(new moment(d)).format(a)}):$("#endFilterDate").datetimepicker({useCurrent:!1,format:a,defaultDate:c})},getDateFilterValues=function(){if(1===$("#disable_date_filter:checked").length)return{beginFilterDate:"",
endFilterDate:""};var a=$("#beginFilterDate").data("DateTimePicker").date().format(),b=$("#endFilterDate").data("DateTimePicker").date().format();return{beginFilterDate:a,endFilterDate:b}},getRawDateFilterValues=function(){if(1===$("#disable_date_filter:checked").length)return{beginFilterDate:"",endFilterDate:""};var a=$("#beginFilterDate").data("DateTimePicker").date(),b=$("#endFilterDate").data("DateTimePicker").date();return{beginFilterDate:a,endFilterDate:b}};
document.addEventListener("trix-file-accept",function(a){a.preventDefault()});const getOperatorsForStringField=function(){return"equal not_equal is_null is_not_null begins_with not_begins_with contains not_contains ends_with not_ends_with is_empty is_not_empty".split(" ")},getOperatorsForNumberField=function(){return"equal not_equal less less_or_equal greater greater_or_equal between not_between".split(" ")},getOperatorsForDateField=function(){return"equal not_equal less less_or_equal greater greater_or_equal".split(" ")};
function roundNumber(a,b){return Number(Math.round(a+"e"+b)+"e-"+b)}function getCheckedBoxIcon(a){var b='\x3ci style\x3d"font-size:1.4em;color:#3300ff" class\x3d"fa fa-check-square-o" aria-hidden\x3d"true"\x3e\x3c/i\x3e';a||(b='\x3ci style\x3d"font-size:1.4em;color:#3300ff" class\x3d"fa fa-square-o" aria-hidden\x3d"true"\x3e\x3c/i\x3e');return b}function checkToAddUrlValueToDOM(a){return 0===a.trim().indexOf("http")?$("\x3ca/\x3e").attr("href",a).attr("target","_blank").html(a)[0].outerHTML:a}
function buildSystemUserInfoLink(a){var b="#calljs-leoCdpRouter('User_Login_Report','"+a+"')";return $("\x3ca/\x3e").attr("href",b).html(a)[0].outerHTML}const mapClipboardJS={};function addHandlerCopyCodeButton(a,b){return null==mapClipboardJS[b]?(mapClipboardJS[b]=!0,new ClipboardJS(b,{text:function(d){notifySuccessMessage("Successfully copied to clipboard!");return getCodeMirrorNative(a).getDoc().getValue()}}),!0):!1}
function getCodeMirrorNative(a){"string"===typeof a&&(a=document.querySelector(a));if(null===a)throw Error("Element does not reference a CodeMirror instance.");return-1<a.className.indexOf("CodeMirror")?a.CodeMirror:"TEXTAREA"===a.tagName?a.nextSibling.CodeMirror:null}function openUrlInNewTab(a,b){a.stopPropagation();window.open($(b).attr("title"),"_blank");return!1}
function stringToSlug(a){for(var b=0;76>b;b++)a=a.replace(RegExp("àáãảạăằắẳẵặâầấẩẫậèéẻẽẹêềếểễệđùúủũụưừứửữựòóỏõọôồốổỗộơờớởỡợìíỉĩịäëïîöüûñçýỳỹỵỷ"[b],"gi"),"aaaaaaaaaaaaaaaaaeeeeeeeeeeeduuuuuuuuuuuoooooooooooooooooiiiiiaeiiouuncyyyyy"[b]);return a=a.toLowerCase().trim().replace(/[^a-z0-9\-]/g,"-").replace(/-+/g,"-")}
const EventMetric={NO_SCORING:0,SCORING_LEAD_METRIC:1,SCORING_PROSPECT_METRIC:2,SCORING_ENGAGEMENT_METRIC:3,SCORING_DATA_QUALITY_METRIC:4,SCORING_ACQUISITION_METRIC:5,SCORING_LIFETIME_VALUE_METRIC:6,SCORING_EFFORT_METRIC:7,SCORING_SATISFACTION_METRIC:8,SCORING_FEEDBACK_METRIC:9,SCORING_PROMOTER_METRIC:10,SCORING_CREDIT_METRIC:11,SCORING_LOYALTY_METRIC:12};